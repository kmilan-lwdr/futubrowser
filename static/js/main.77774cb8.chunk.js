(this.webpackJsonpphotobrowser=this.webpackJsonpphotobrowser||[]).push([[0],{40:function(e,t,a){e.exports=a(82)},45:function(e,t,a){},82:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(38),o=a.n(c),i=(a(45),a(6)),l=a(1),s=a(12),u=a.n(s),m=a(17),p=a(14),d=a(25),h=a(8),v=a(9),b=a(15),f=a(11),g=a(10),E=a(18),y=a.n(E),O=window.innerWidth<=760?1:2,j=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).generateButtonArray=n.generateButtonArray.bind(Object(b.a)(n)),n}return Object(v.a)(a,[{key:"generateButtonArray",value:function(e,t){var a=[];e>1&&(a.push("|<"),a.push("<"));var n=Math.max(1,e-O),r=Math.min(t,e+O),c=1+2*O;return n>1&&a.push("..."),r<c&&t>=c&&(r=Math.min(c,e+1+2*O)),n>t-2*O&&(n=Math.max(1,t-2*O)),a=a.concat(function(e,t){for(var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=e,r=[];n<=t;)r.push(n),n+=a;return r}(n,r)),r<t&&a.push("..."),e<t&&(a.push(">"),a.push(">|")),a}},{key:"render",value:function(){var e=this;if(1===this.props.totalPages)return null;var t=this.generateButtonArray(this.props.query._page,this.props.totalPages);return r.a.createElement("div",{className:"row centered paginationBar"},t.map((function(t,a){var n;if("|<"===t)n=1;else if("<"===t)n=e.props.query._page-1;else if(">"===t)n=e.props.query._page+1;else if(">|"===t)n=e.props.totalPages;else{if("..."===t)return r.a.createElement("span",{key:a,className:"break"},t);n=t}return r.a.createElement(i.c,{to:e.props.path+"?"+y.a.stringify(Object(d.a)(Object(d.a)({},e.props.query),{},{_page:n})),key:a,className:"button ".concat(e.props.query._page===n?"active":"")},t)})))}}]),a}(n.Component),w=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(v.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"overlay"},r.a.createElement("div",{className:"text"},this.props.text,r.a.createElement("div",{className:this.props.iconClass})))}}]),a}(n.Component),N=a(20),C=a.n(N),k=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).mouseOverEvent=n.mouseOverEvent.bind(Object(b.a)(n)),n.state={showTitleCard:!1},n}return Object(v.a)(a,[{key:"mouseOverEvent",value:function(){this.setState({showTitleCard:!this.state.showTitleCard})}},{key:"render",value:function(){return r.a.createElement(i.c,{to:"/view/"+this.props.id,onMouseEnter:this.mouseOverEvent,onMouseLeave:this.mouseOverEvent},r.a.createElement(C.a,{className:"thumbnail",src:this.props.url,width:"150",height:"150",alt:this.props.alt,placeholderColor:"#393d3a"}),r.a.createElement("div",{className:"titleCard",style:{display:this.state.showTitleCard?"block":"none"}},this.props.title))}}]),a}(n.Component),x=a(19),_=a.n(x),A=["_page","_limit","albumId"],B=a(80);function S(e){var t=Object(n.useState)({thumbnails:[],totalCount:1}),a=Object(p.a)(t,2),c=a[0],o=a[1],i=Object(n.useState)({_page:1,_limit:40,albumId:void 0}),l=Object(p.a)(i,2),s=l[0],d=l[1],h=Object(n.useState)({loading:!0}),v=Object(p.a)(h,2),b=v[0],f=v[1];return Object(n.useEffect)((function(){var t={mode:"no-cors",headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"},withCredentials:!0,credentials:"same-origin"};(function(){var a=Object(m.a)(u.a.mark((function a(){var n,r,c,i,l;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return f(!0),r=y.a.parse(e.location.search),r=B.pick(r,A),c=Number(r._page),i=Number(r._limit),r._page=c||1,r._limit=i||40,r.albumId=null!==(n=r.albumId)&&void 0!==n?n:void 0,l="?"+y.a.stringify(r,{skipEmptyString:!0,skipNull:!0}),a.next=11,_.a.get("https://jsonplaceholder.typicode.com/photos".concat("?"!==l?l:""),t).then((function(e){o({thumbnails:e.data,totalCount:e.headers["x-total-count"]}),d(r)})).catch((function(e){console.log(e)})).then((function(){f(!1)}));case 11:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}})()()}),[e.location.search]),r.a.createElement("div",{className:"container"},b?r.a.createElement(w,{text:"Please wait...",iconClass:"loadingSpinner"}):c.thumbnails.length>0?r.a.createElement("div",null,r.a.createElement("div",{className:"row galleryGrid"},c.thumbnails.map((function(e,t){return r.a.createElement(k,{id:e.id,url:e.thumbnailUrl,alt:e.id,title:e.title,key:t})}))),r.a.createElement(j,{query:s,totalPages:Math.ceil(c.totalCount/s._limit),path:"/gallery"})):r.a.createElement(w,{text:"Unable to fetch data",iconClass:"failureIcon"}))}var I=function(e){Object(f.a)(a,e);var t=Object(g.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(v.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"button",onClick:this.props.history.goBack},"Back to gallery")}}]),a}(n.Component),M=Object(l.g)(I);var T=function(e){var t=Object(n.useState)({image:void 0,album:void 0}),a=Object(p.a)(t,2),c=a[0],o=a[1],l=Object(n.useState)({loading:!0}),s=Object(p.a)(l,2),d=s[0],h=s[1];return Object(n.useEffect)((function(){var t={mode:"no-cors",headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"},withCredentials:!0,credentials:"same-origin"};(function(){var a=Object(m.a)(u.a.mark((function a(){return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,_.a.get("".concat("https://jsonplaceholder.typicode.com/photos/").concat(e.match.params.id),t).then(function(){var e=Object(m.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.get("".concat("https://jsonplaceholder.typicode.com/albums/").concat(a.data.albumId),t).then((function(e){o({image:a.data,album:e.data})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)})).then((function(){h(!1)}));case 2:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}})()()}),[e.match.params.id]),r.a.createElement("div",{className:"container"},d?r.a.createElement(w,{text:"Please wait...",iconClass:"loadingSpinner"}):c.image.id?r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement(C.a,{className:"imageView",src:c.image.url,width:"600",height:"600",alt:c.image.id,placeholderColor:"#393d3a"})),r.a.createElement("div",{className:"row description"},r.a.createElement("div",{className:"descriptionRow"},r.a.createElement("div",{className:"descriptionKey"},"Title"),r.a.createElement("div",{className:"descriptionValue"},c.image.title)),r.a.createElement("div",{className:"descriptionRow"},r.a.createElement("div",{className:"descriptionKey"},"Album"),r.a.createElement(i.c,{to:"/gallery?albumId="+c.album.id,className:"descriptionValue link"},c.album.title)),r.a.createElement("div",{className:"descriptionRow"},r.a.createElement(M,null)))):r.a.createElement(w,{text:"Unable to fetch data",iconClass:"failureIcon"}))};function q(){return r.a.createElement("div",{className:"App"},r.a.createElement(i.b,{basename:"/"},r.a.createElement(i.c,{to:"/",className:"AppHeader"},"futuBrowser"),r.a.createElement(l.d,null,r.a.createElement(l.b,{path:"/gallery",component:S}),r.a.createElement(l.b,{exact:!0,path:"/",render:function(){return r.a.createElement(l.a,{to:"/gallery"})}}),r.a.createElement(l.b,{path:"/view/:id",component:T}),r.a.createElement(l.b,{path:"*",render:function(){return r.a.createElement(l.a,{to:"/gallery"})}}))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(i.a,null,r.a.createElement(q,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[40,1,2]]]);
//# sourceMappingURL=main.77774cb8.chunk.js.map