(this.webpackJsonpphotobrowser=this.webpackJsonpphotobrowser||[]).push([[0],{35:function(e,t,a){e.exports=a(64)},40:function(e,t,a){},64:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(33),o=a.n(c),s=(a(40),a(9)),i=a(1),l=a(15),u=a.n(l),m=a(17),p=a(14),h=a(7),d=a(8),v=a(12),g=a(11),b=a(10),f=function(e){Object(g.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).changePage=n.changePage.bind(Object(v.a)(n)),n.generateButtonArray=n.generateButtonArray.bind(Object(v.a)(n)),n}return Object(d.a)(a,[{key:"changePage",value:function(e){this.props.changePage({currentPage:e}),this.setState(this.state)}},{key:"generateButtonArray",value:function(){var e=[];this.props.currentPage>0&&(e.push("|<"),e.push("<"));var t=Math.max(1,this.props.currentPage-2),a=Math.min(this.props.totalPages,this.props.currentPage+2);return t>1&&e.push("..."),a<5&&this.props.totalPages>=5&&(a=Math.min(5,this.props.currentPage+1+4)),t>this.props.totalPages-4&&(t=Math.max(1,this.props.totalPages-4)),e=e.concat(function(e,t){for(var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=e,r=[];n<=t;)r.push(n),n+=a;return r}(t,a)),a<this.props.totalPages&&e.push("..."),this.props.currentPage<this.props.totalPages&&(e.push(">"),e.push(">|")),e}},{key:"render",value:function(){var e=this;if(1===this.totalPages)return null;var t=this.generateButtonArray();return r.a.createElement("div",{className:"row centered paginationBar"},t.map((function(t,a){var n;if("|<"===t)n=1;else if("<"===t)n=e.props.currentPage-1;else if(">"===t)n=e.props.currentPage+1;else if(">|"===t)n=e.props.totalPages;else{if("..."===t)return r.a.createElement("span",{key:a,className:"break"},t);n=t}return r.a.createElement(s.c,{to:e.props.url+n,key:a,className:"button ".concat(e.props.currentPage===t?"active":"")},t)})))}}]),a}(n.Component),E=function(e){Object(g.a)(a,e);var t=Object(b.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"overlay"},r.a.createElement("div",{className:"text"},"Please wait...",r.a.createElement("div",{className:"loadingSpinner"})))}}]),a}(n.Component),O=function(e){Object(g.a)(a,e);var t=Object(b.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"overlay"},r.a.createElement("div",{className:"text"},"Unable to fetch data",r.a.createElement("div",{className:"failureIcon"})))}}]),a}(n.Component),j=a(18),y=a.n(j),w=function(e){Object(g.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).mouseOverEvent=n.mouseOverEvent.bind(Object(v.a)(n)),n.state={showTitleCard:!1},n}return Object(d.a)(a,[{key:"mouseOverEvent",value:function(){this.setState({showTitleCard:!this.state.showTitleCard})}},{key:"render",value:function(){return r.a.createElement(s.c,{to:"/view/"+this.props.id,onMouseEnter:this.mouseOverEvent,onMouseLeave:this.mouseOverEvent},r.a.createElement(y.a,{className:"thumbnail",src:this.props.url,width:"150",height:"150",alt:this.props.alt,placeholderColor:"#393d3a"}),r.a.createElement("div",{className:"titleCard",style:{display:this.state.showTitleCard?"block":"none"}},this.props.title))}}]),a}(n.Component),N=a(19),P=a.n(N);function k(e){var t=Object(n.useState)({thumbnails:[],totalCount:1,limit:30}),a=Object(p.a)(t,2),c=a[0],o=a[1],s=Object(n.useState)({currentPage:1}),i=Object(p.a)(s,2),l=i[0],h=i[1],d=Object(n.useState)({loading:!0}),v=Object(p.a)(d,2),g=v[0],b=v[1];return Object(n.useEffect)((function(){(function(){var t=Object(m.a)(u.a.mark((function t(){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return b(!0),a=Number(e.match.params.page),h({currentPage:a||1}),t.next=5,P.a.get("https://jsonplaceholder.typicode.com/photos?_page=".concat(a,"&_limit=").concat(30),{mode:"no-cors",headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"},withCredentials:!0,credentials:"same-origin"}).then((function(e){o({thumbnails:e.data,totalCount:e.headers["x-total-count"],limit:30})})).catch((function(e){console.log(e)})).then((function(){b(!1)}));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[l.currentPage,e.match.params.page]),r.a.createElement("div",{className:"container"},g?r.a.createElement(E,null):c.thumbnails.length>0?r.a.createElement("div",null,r.a.createElement("div",{className:"row galleryGrid"},c.thumbnails.map((function(e,t){return r.a.createElement(w,{id:e.id,url:e.thumbnailUrl,alt:e.id,title:e.title,key:t})}))),r.a.createElement(f,{currentPage:l.currentPage,totalPages:Math.ceil(c.totalCount/30),url:"/gallery/"})):r.a.createElement(O,null))}var C=function(e){Object(g.a)(a,e);var t=Object(b.a)(a);function a(e){return Object(h.a)(this,a),t.call(this,e)}return Object(d.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"button",onClick:this.props.history.goBack},"Back to gallery")}}]),a}(n.Component),x=Object(i.g)(C);var A=function(e){var t={image:void 0},a=Object(n.useState)(t),c=Object(p.a)(a,2),o=c[0],s=c[1],i=Object(n.useState)({loading:!0}),l=Object(p.a)(i,2),h=l[0],d=l[1];return Object(n.useEffect)((function(){(function(){var t=Object(m.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,P.a.get("https://jsonplaceholder.typicode.com/photos/".concat(e.match.params.id),{mode:"no-cors",headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"},withCredentials:!0,credentials:"same-origin"}).then((function(e){s(e.data)})).catch((function(e){console.log(e)})).then((function(){d(!1)}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e.match.params.id]),r.a.createElement("div",{className:"container"},h?r.a.createElement(E,null):o.id?r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"column"},r.a.createElement(y.a,{className:"imageView",src:o.url,width:"600",height:"600",alt:o.id,placeholderColor:"#393d3a"})),r.a.createElement("div",{className:"column description"},r.a.createElement("div",{className:"descriptionRow"},r.a.createElement("div",{className:"descriptionKey"},"Image ID"),r.a.createElement("div",{className:"descriptionValue"}," ",o.id)),r.a.createElement("div",{className:"descriptionRow"},r.a.createElement("div",{className:"descriptionKey"},"Title"),r.a.createElement("div",{className:"descriptionValue"}," ",o.title)),r.a.createElement("div",{className:"descriptionRow"},r.a.createElement("div",{className:"descriptionKey"},"Album ID"),r.a.createElement("div",{className:"descriptionValue"}," ",o.albumId)),r.a.createElement(x,null))):r.a.createElement(O,null))};function B(){return r.a.createElement("div",{className:"App"},r.a.createElement(s.b,{basename:"/"},r.a.createElement(s.c,{to:"/",className:"AppHeader"},"futuBrowser"),r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"/gallery",component:k}),r.a.createElement(i.b,{path:"/gallery/:page",component:k}),r.a.createElement(i.b,{exact:!0,path:"/",render:function(){return r.a.createElement(i.a,{to:"/gallery"})}}),r.a.createElement(i.b,{path:"/view/:id",component:A}),r.a.createElement(i.b,{path:"*",render:function(){return r.a.createElement(i.a,{to:"/gallery"})}}))))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(s.a,null,r.a.createElement(B,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[35,1,2]]]);
//# sourceMappingURL=main.4e599b3e.chunk.js.map